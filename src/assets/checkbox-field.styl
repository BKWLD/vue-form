.vf-checkbox
	color form-label-base

	.checkbox-wrap
		display flex
		align-items flex-start
		cursor pointer

	.checkbox-bkg
		display block
		flex-shrink 0
		width form-checkbox-size
		height form-checkbox-size
		border-radius form-checkbox-radius
		position relative
		fluid margin-right, form-input-padding-h, form-input-padding-h-min
		outline form-outline-width solid form-outline-base
		outline-offset form-outline-offset
		background form-bkg-base

	.checkbox-icon
		display flex
		align-items center
		justify-content center
		position absolute
		width 100%
		height 100%
		top 50%
		left 50%
		opacity 0
		transition transform form-base-speed form-easing-function, opacity (form-base-speed/1.25)
		transform-origin 50% 50%
		transform translate(-50%, -50%) scale(0.3, 0.3)
		svg path
			fill form-color-base

	input[type=checkbox]
		// Must not be display:none in order to be tabbable
		opacity 0
		width 0

	.label
		padding-top 5px // Vertically center the first line of text with the checkbox
		position relative

		.vf-checkbox&
			padding-right form-input-padding-h

	&.checked
		// Checked
		.checkbox-bkg .checkbox-icon
			opacity 1
			transform translate(-50%, -50%) scale(1, 1)
			color form-color-selected
			svg path
				fill form-color-selected

		.checkbox-bkg
			background form-bkg-selected

		// Checked hover
		@media (hover hover)
			.checkbox-wrap:hover
				.checkbox-bkg
					background darken(form-bkg-selected, form-hover-darken-factor)
					outline-color form-outline-hover
			
					.checkbox-icon
						color form-color-selected
						svg path
							fill form-color-selected

		// Checked focus
		input.focus-visible ~ .checkbox-bkg
			outline-color form-outline-focus

	&.unchecked
		// Unchecked focus
		input.focus-visible ~ .checkbox-bkg
			outline-color form-outline-focus
			background form-bkg-hover

		// Unchecked hover
		@media (hover hover)
			.checkbox-wrap:hover
				.checkbox-bkg
					background form-bkg-hover
					outline-color form-outline-hover

				.checkbox-icon svg path
					fill form-color-hover

	// Error state
	&.error
		.checkbox-bkg
			background form-bkg-error
			outline-color form-outline-error

		.checkbox-icon svg path
			fill form-color-error-hover

		@media (hover hover)
			// Error hover state
			.checkbox-wrap:hover .checkbox-bkg
				background form-bkg-error-hover
				outline-color form-outline-error

	// Error message
	.error-message
		padding-top 10px
